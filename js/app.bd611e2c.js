(function(e){function t(t){for(var s,n,r=t[0],c=t[1],l=t[2],d=0,p=[];d<r.length;d++)n=r[d],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&p.push(i[n][0]),i[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);m&&m(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],s=!0,n=1;n<o.length;n++){var r=o[n];0!==i[r]&&(s=!1)}s&&(a.splice(t--,1),e=c(c.s=o[0]))}return e}var s={},n={27:0},i={27:0},a=[];function r(e){return c.p+"js/"+({1:"chunk-common"}[e]||e)+"."+{1:"c20e58d8",2:"1b1d9812",3:"cb509a23",4:"295b6918",5:"e32b870f",6:"0dc1ce5a",7:"c87b9071",8:"da14e6c3",9:"091c03ff",10:"c31d29ec",11:"4e76d772",12:"1f11fcaf",13:"e2747ad3",14:"61547cca",15:"97a49117",16:"4a27628d",17:"1997df8e",18:"bbd462f5",19:"7babee53",20:"69f7377e",21:"7609d22f",22:"83f7a507",23:"e759a6f5",24:"ad2e5db6",25:"901e6f75",26:"b13a9b4a",28:"ac3b3937"}[e]+".js"}function c(t){if(s[t])return s[t].exports;var o=s[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.e=function(e){var t=[],o={1:1,2:1,3:1,4:1,5:1,6:1,7:1,8:1,9:1,10:1,11:1,12:1,13:1,14:1,15:1,16:1,17:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,28:1};n[e]?t.push(n[e]):0!==n[e]&&o[e]&&t.push(n[e]=new Promise((function(t,o){for(var s="css/"+({1:"chunk-common"}[e]||e)+"."+{1:"4bc84427",2:"4f1805ae",3:"90a4b867",4:"e78aea7b",5:"5f49527f",6:"a7b0b850",7:"845dcd50",8:"4b4b5347",9:"6579f4e0",10:"6579f4e0",11:"6579f4e0",12:"6579f4e0",13:"68cdbcbb",14:"99aa7eb7",15:"a808737c",16:"fec511c2",17:"08f9d05b",18:"077a219e",19:"299d0f2a",20:"ec3fa284",21:"08301022",22:"58e481a7",23:"9e53ebaa",24:"598efb92",25:"31d6cfe0",26:"31d6cfe0",28:"ab65c369"}[e]+".css",i=c.p+s,a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var l=a[r],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===s||d===i))return t()}var p=document.getElementsByTagName("style");for(r=0;r<p.length;r++){l=p[r],d=l.getAttribute("data-href");if(d===s||d===i)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var s=t&&t.target&&t.target.src||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=s,delete n[e],m.parentNode.removeChild(m),o(a)},m.href=i;var h=document.getElementsByTagName("head")[0];h.appendChild(m)})).then((function(){n[e]=0})));var s=i[e];if(0!==s)if(s)t.push(s[2]);else{var a=new Promise((function(t,o){s=i[e]=[t,o]}));t.push(s[2]=a);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=r(e);var p=new Error;l=function(t){d.onerror=d.onload=null,clearTimeout(m);var o=i[e];if(0!==o){if(o){var s=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+s+": "+n+")",p.name="ChunkLoadError",p.type=s,p.request=n,o[1](p)}i[e]=void 0}};var m=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=s,c.d=function(e,t,o){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)c.d(o,s,function(t){return e[t]}.bind(null,s));return o},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var p=0;p<l.length;p++)t(l[p]);var m=d;a.push([0,0]),o()})({0:function(e,t,o){e.exports=o("2f39")},"0970":function(e,t,o){"use strict";o("2b25")},"2b25":function(e,t,o){},"2f39":function(e,t,o){"use strict";o.r(t);o("7cd0"),o("7d6e"),o("e54f"),o("880e"),o("64f7"),o("62f2"),o("7e6d");var s=o("2b0e"),n=o("b05d"),i=o("4d5a"),a=o("e359"),r=o("9404"),c=o("09e3"),l=o("9989"),d=o("65c6"),p=o("6ac5"),m=o("9c40"),h=o("0016"),u=o("1c1c"),f=o("66e5"),g=o("4074"),y=o("0170"),b=o("eb85"),w=o("27f9"),v=o("58ea"),k=o("3980"),x=o("429b"),S=o("7460"),C=o("adad"),T=o("823b"),I=o("4e73"),$=o("74f7"),L=o("cf57"),P=o("24e8"),N=o("05c0"),M=o("ddd8"),E=o("b047"),D=o("c1d0"),j=o("9564"),_=o("8572"),O=o("8f8e"),G=o("3b73"),q=o("6a67"),Q=o("f09f"),F=o("a370"),R=o("4b7e"),A=o("8169"),H=o("05eb"),J=o("74af"),V=o("3786"),B=o("0d59"),W=o("7cbe"),z=o("7f67"),U=o("12c5"),X=o("75c3"),Y=o("714f"),K=o("2a19"),Z=o("436b"),ee=o("18d6"),te=o("a639"),oe=o("0967");s["default"].use(n["a"],{config:{screen:{bodyClasses:!0}},components:{QLayout:i["a"],QHeader:a["a"],QDrawer:r["a"],QPageContainer:c["a"],QPage:l["a"],QToolbar:d["a"],QToolbarTitle:p["a"],QBtn:m["a"],QIcon:h["a"],QList:u["a"],QItem:f["a"],QItemSection:g["a"],QItemLabel:y["a"],QSeparator:b["a"],QInput:w["a"],QCircularProgress:v["a"],QResizeObserver:k["a"],QTabs:x["a"],QTab:S["a"],QTabPanels:C["a"],QTabPanel:T["a"],QMenu:I["a"],QInnerLoading:$["a"],QSpinnerGears:L["a"],QDialog:P["a"],QTooltip:N["a"],QSelect:M["a"],QChip:E["a"],QSlider:D["a"],QToggle:j["a"],QField:_["a"],QCheckbox:O["a"],QExpansionItem:G["a"],QBtnToggle:q["a"],QCard:Q["a"],QCardSection:F["a"],QCardActions:R["a"],QChatMessage:A["a"],QTimeline:H["a"],QTimelineEntry:J["a"],QRadio:V["a"],QSpinner:B["a"],QPopupProxy:W["a"]},directives:{ClosePopup:z["a"],TouchSwipe:U["a"],TouchPan:X["a"],Ripple:Y["a"]},plugins:{Notify:K["a"],Dialog:Z["a"],LocalStorage:ee["a"],SessionStorage:te["a"],Platform:oe["b"]}});var se=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"q-app"}},[t("router-view"),t("offline")],1)},ne=[],ie=function(){var e=this,t=e._self._c;return e.$store.state.token&&(e.$store.state.offline||e.$store.state.socketOffline)?t("div",{staticClass:"offline-page window-height window-width bg-light column items-center no-wrap"},[t("div",{staticClass:"offline-back"},[t("div",{staticClass:"offline-code"}),t("div",{staticClass:"offline-line"},e._l(Array(20),(function(o){return t("span",{key:o},[e._v("offline")])})),0)])]):e._e()},ae=[],re={name:"offline",data(){return{intervalId:0}},created(){this.intervalId=setInterval((()=>{this.$store.dispatch("checkConnection")}),5e3)}},ce=re,le=(o("ce9b"),o("2877")),de=Object(le["a"])(ce,ie,ae,!1,null,null,null),pe=de.exports,me={name:"App",components:{Offline:pe}},he=me,ue=(o("0970"),Object(le["a"])(he,se,ne,!1,null,null,null)),fe=ue.exports,ge=o("2f62"),ye=(o("14d9"),o("9b02")),be=o.n(ye);const we={devices:"/gw/devices/:id",channels:"/gw/channels/:id",calcs:"/gw/calcs/:id",geofences:"/gw/geofences/:id",plugins:"/gw/plugins/:id",groups:"/gw/groups/:id",streams:"/gw/streams/:id",modems:"/gw/modems/:id",webhooks:"/platform/webhooks/:id",grants:"/platform/grants/:id",realms:"/platform/realms/:id",containers:"/storage/containers/:id",cdns:"/storage/cdns/:id",tasks:"/gw/calcs/:calc/devices/:device",subaccounts:"/platform/subaccounts/:id"},ve={devices:["id","name","deleted","configuration"],channels:["id","name","deleted","protocol_id","uri"],calcs:["id","name","deleted","counters","selectors","messages_source"],geofences:["id","name","deleted"],plugins:["id","name","deleted"],groups:["id","name","deleted"],streams:["id","name","deleted","configuration","protocol_id"],webhooks:["id","name","deleted","configuration"],grants:["id","name","deleted"],realms:["id","name","deleted"],modems:["id","name","deleted","configuration"],containers:["id","name","deleted"],cdns:["id","name","deleted"],tasks:["device_id","calc_id"],subaccounts:["id","name","deleted"]},ke=0,xe=1;function Se(e){let t="",o=null,s=ke;return"string"===typeof e?t=e:(t=e.entity,e.id&&(o=e.id),e.mode&&(s=e.mode)),{id:o,mode:s,entity:t}}function Ce(e,t){let o=`flespi/state${we[e]}`;return(t&&"object"!==typeof t||!t)&&(t={id:t}),o=o.replace(/:(\w+)/g,((e,o)=>t[o]||"+")),o}async function Te({state:e,commit:t},o){const{id:n,mode:i,entity:a}=Se(o),r=Ce(a,n),c=a;if(e[c]||s["default"].set(e,c,{}),a){let o="";if(i===xe){if(!ve[a])return!1;o=`${r}/${ve[a].join(",")}`}else o=`${r}/${n||"+"}`;if(e.token)try{if("channels"===a&&!e.channelsProtocols){const o=await s["default"].connector.gw.getChannelProtocols("all",{fields:"name,id,features"});t("reqStart",{endpoint:"getChannelProtocols",ids:"all",data:{fields:"name,id,features"}});const n=o.data.result.reduce(((e,t)=>(e[t.id]=t,e)),{});s["default"].set(e,"channelsProtocols",n)}if("streams"===a&&!e.streamsProtocols){const o=await s["default"].connector.gw.getStreamProtocols("all",{fields:"name,id"});t("reqStart",{endpoint:"getStreamProtocols"});const n=o.data.result.reduce(((e,t)=>(e[t.id]=t,e)),{});s["default"].set(e,"streamsProtocols",n)}const n={},r=o.split("/").reverse().slice(1),l=(o,i,l,d)=>{const p=i.split("/").reverse(),m=r.reduce(((e,t,o)=>("+"===t&&e.push(p[o]),e)),[]).reverse(),h=m.length<=1?parseInt(p.shift()):m.join("-"),u=d?e[c]:n;o.length?s["default"].set(u,h,JSON.parse(o.toString())):t("deleteItem",{id:h,mode:"tasks"===a,source:u})},d=(o,i,l,d)=>{const p=i.split("/").reverse(),m=p.shift(),h=r.reduce(((e,t,o)=>("+"===t&&e.push(p[o]),e)),[]).reverse(),u=0===h.length?parseInt(p.shift()):h.join("-"),f=d?e[c]:n;return"deleted"===m?(t("deleteItem",{id:u,mode:"tasks"===a,source:f}),!1):!!o.length&&void(f[u]?s["default"].set(f[u],m,JSON.parse(o.toString())):s["default"].set(f,u,{id:u,[m]:JSON.parse(o.toString())}))};let p=null;const m={name:o,handler:i===ke?(e,t,o)=>l(e,t,o,p):(e,t,o)=>d(e,t,o,p)};return p=await s["default"].connector.socket.subscribe(m),s["default"].$logger.info(`subscribe: ${JSON.stringify(m)}`),s["default"].set(e,c,n),p}catch(l){t("reqFailed",l),t("setItems",{items:{},entity:a})}}}async function Ie({state:e,commit:t},o){const{id:n,mode:i,entity:a}=Se(o),r=Ce(a,n);if(a){let e="";if(i===xe){if(!ve[a])return!1;e=`${r}/${ve[a].join(",")}`}else e=`${r}/${n||"+"}`;try{return s["default"].$logger.info(`unsubscribe: ${e}`),await s["default"].connector.socket.unsubscribe(e)}catch(c){t("reqFailed",c)}}}async function $e(e,t){const{state:o}=e;s["default"].set(o,"isLoading",!0);const n=await Promise.all(t.map((t=>Te(e,t))));return s["default"].set(o,"isLoading",!1),n}async function Le(e,t){const{state:o}=e;s["default"].set(o,"isLoading",!0);const n=await Promise.all(t.map((n=>{const{entity:i}=Se(t);s["default"].delete(o,i),Ie(e,n)})));return s["default"].set(o,"isLoading",!1),n}const Pe={devices:11,channels:9,groups:31,streams:12,calcs:13,geofences:40,plugins:25,modems:10,webhooks:36,grants:37,realms:29,containers:6,cdns:7};async function Ne({state:e,commit:t},o){if(o&&e.token)try{"undefined"!==typeof e.isLoading&&s["default"].set(e,"isLoading",!0);let i=[];if(1===e.tokenInfo.access.type)try{const e=await s["default"].connector.platform.getDeleted(`type=${Pe[o]}`,{fields:"data"});t("reqStart",{endpoint:"getDeleted",type:`type=${Pe[o]}`});const n=e.data;n.errors&&n.errors.forEach((e=>{t("addError",e.reason)})),i=n.result}catch(n){t("addError",n.message)}i.length||K["a"].create({message:`No deleted ${o} found.`,color:"warning",classes:"text-center",icon:"mdi-alert-octagon-outline",timeout:1e3});const a={...e[o],...i.reduce(((e,t)=>{if(t.data){const o=t.data;o.deleted=!0,e[o.id]=o}return e}),{})};t("setItems",{items:a,entity:o}),"undefined"!==typeof e.isLoading&&s["default"].set(e,"isLoading",!1)}catch(n){t("reqFailed",n),t("setItems",{items:{},entity:o}),"undefined"!==typeof e.isLoading&&s["default"].set(e,"isLoading",!1)}}async function Me({state:e,commit:t}){return!1}async function Ee({state:e,commit:t}){try{"undefined"!==typeof e.isLoading&&s["default"].set(e,"isLoading",!0);const o=await s["default"].connector.http.get("/auth/regions");let n=be()(o,"data.result",[]),i=null;n=n.reduce(((e,t)=>(t.default&&(i=t),e[t.name]=t,e)),{}),i&&t("setToolboxSessionSettings",{region:i}),t("setRegions",n)}catch(o){t("reqFailed",o),"undefined"!==typeof e.isLoading&&s["default"].set(e,"isLoading",!1)}}async function De({state:e,commit:t},{region:o,token:n}){try{"undefined"!==typeof e.isLoading&&s["default"].set(e,"isLoading",!0),e.regions||await Ee({state:e,commit:t}),o&&t("setToolboxSessionSettings",{region:o});const i=e.sessionSettings.region;s["default"].prototype.$flespiServer=i.rest,s["default"].prototype.$flespiSocketServer=`wss://${i["mqtt-ws"]}`,s["default"].prototype.$flespiCDN=i.cdn,s["default"].connector.setRegion(i),t("setToken",n)}catch(i){t("reqFailed",i),"undefined"!==typeof e.isLoading&&s["default"].set(e,"isLoading",!1)}}async function je({state:e,commit:t}){try{"undefined"!==typeof e.isLoading&&s["default"].set(e,"isLoading",!0);const o=await s["default"].connector.http.external(`${s["default"].prototype.$flespiServer}/const/values?names=toolbox%2Fcodes`),n=be()(o,'data.result[0]["toolbox/codes"]',{});t("setLogsObject",n)}catch(o){t("reqFailed",o),"undefined"!==typeof e.isLoading&&s["default"].set(e,"isLoading",!1)}}var _e={getItems:Te,unsubscribeItems:Ie,checkConnection:Me,getDeleted:Ne,getEntities:$e,removeEntities:Le,getRegions:Ee,initConnection:De,initLogsObject:je},Oe=o("63ea"),Ge=o.n(Oe),qe=o("d173"),Qe=o.n(qe),Fe=o("c707"),Re=o.n(Fe);function Ae(e,t){s["default"].$logger.info(`reqStart: ${JSON.stringify(t)}`)}function He(e,t){if(s["default"].$logger.info(`reqFailed: ${JSON.stringify(t)}`),t.response&&t.response.status)switch(t.response.status){case 0:We(e,!0),s["default"].set(e,"token","");break;case 401:Ue(e);break;default:t.response.data&&t.response.data.errors&&t.response.data.errors.length&&t.response.data.errors.forEach((t=>{Ye(e,t.reason)}))}else Ye(e,t.message),2!==t.code&&134!==t.code&&135!==t.code||Ue(e)}function Je(e,{id:t,mode:o,source:n}){o?s["default"].delete(n,t):s["default"].set(n[t],"deleted",!0),s["default"].$logger.info(`deleteItem: ${JSON.stringify({id:t,mode:o,source:n})}`)}function Ve(e,{items:t,entity:o}){s["default"].set(e,o,t)}function Be(e,t){s["default"].set(e,t,{})}function We(e,t){s["default"].set(e,"offline",t)}function ze(e,t){let o=t.replace("FlespiToken ","");if(o===e.token)return!1;t&&o.match(/^[a-z0-9]+$/i)?rt(e,{token:o}):(o="",Ue(e)),s["default"].connector.token=`FlespiToken ${o}`,s["default"].set(e,"token",o),Ke(e),s["default"].$logger.info(`setToken: ${t}`)}function Ue(e){rt(e,{token:void 0}),s["default"].connector.token="",s["default"].set(e,"token",""),et(e),Object.keys(e.config).forEach((t=>{s["default"].set(e.config[t],"isDrawable",!1)})),s["default"].$logger.info("clearToken")}function Xe(e,t){s["default"].set(e,"config",t)}function Ye(e,t){if(!e.token)return!1;K["a"].create({type:"negative",icon:"warning",message:`${t}`,timeout:1e3}),e.newNotificationCounter++,e.errors.push(t),s["default"].$logger.info(t)}function Ke(e){e.errors=[]}function Ze(e,t){switch(s["default"].set(e,"tokenInfo",t),s["default"].$logger.info(`tokenInfo: ${JSON.stringify(t)}`),t.access.type){case 0:Object.keys(e.config).forEach((t=>{if("platform"===t)return!1;s["default"].set(e.config[t],"isDrawable",!0)}));break;case 1:Object.keys(e.config).forEach((t=>{s["default"].set(e.config[t],"isDrawable",!0)}));break;case 2:{const o=(e,t)=>{let o=!0;return o=!t.some((t=>{const o=e.find((e=>e.name===t.name));return!o||!Ge()(Re()(Qe()(t.methods,o.methods)),Re()(o.methods))})),o};s["default"].set(e.config.platform,"isDrawable",!1);const n=t.access.acl.reduce(((e,t)=>{if("gw"===t.uri||"storage"===t.uri){if(t.methods.includes("GET")){let o=[];return"gw"===t.uri&&(o=["channels","calcs","intervals","geofences","plugins","devices","groups","streams","modems","protocols"]),"storage"===t.uri&&(o=["containers","cdns"]),o.forEach((t=>{e[t]||(e[t]={name:t,methods:["GET"]})})),e}return e}const o=t.uri.split("/")[1]||t.uri.split("/")[0];return e[o]=t,e}),{});Object.keys(e.config).forEach((t=>{const i=e.config[t];if(!i.acl)return!1;const a=i.acl.reduce(((e,t)=>{const s=n[t.name];if(!s)return!1;let i=e;return s.methods&&Ge()(Re()(Qe()(s.methods,t.methods)),Re()(t.methods))||(i=!1),s.submodules&&!o(s.submodules,t.submodules)&&(i=!1),e&&i}),!0);a&&s["default"].set(e.config[t],"isDrawable",!0)}));break}}}function et(e){e.tokenInfo=null}function tt(e,t){s["default"].set(e,"socketOffline",t)}function ot(e){e.newNotificationCounter=0}function st(e){let t=ee["a"].getItem("flespi-toolbox-settings");if(!t){t={entities:{}};const e=t.entities,o=["devices","channels","calcs","intervals","geofences","plugins","groups","streams","modems","containers","cdns","tools/hex","tools/traffic","platform","mqtt","webhooks","grants","realms"];o.forEach((t=>{const o=ee["a"].getItem(t);o&&(e[t]=o,ee["a"].remove(t))}))}t={entities:t.entities,viewSettings:t.viewSettings},e.settings=t||{},s["default"].$logger.info(`getToolboxSettings: ${JSON.stringify(t)}`)}function nt(e,{type:t,opt:o,value:n}){let i=ee["a"].getItem("flespi-toolbox-settings");switch(i&&"null"!==i||(i={}),t){case"ENTITY_CHANGE":{const{entity:e}=o;i.entities||(i.entities={}),i.entities[e]=n;break}case"ENTITY_VIEW_SETTINGS_CHANGE":{const{entity:e}=o;i.viewSettings||(i.viewSettings={}),i.viewSettings[e]={...i.viewSettings[e]||{},...n};break}}ee["a"].set("flespi-toolbox-settings",i),i={entities:i.entities,viewSettings:i.viewSettings},e.settings=i,s["default"].$logger.info(`setToolboxSettings: ${JSON.stringify(i)}`)}function it(e){ee["a"].remove("flespi-toolbox-settings")}function at(e,t){e.regions=t}function rt(e,t){let o=e.sessionSettings;o||(o={});for(const n in t){const e=t[n];e?s["default"].set(o,n,e):s["default"].delete(o,n)}s["default"].set(e,"sessionSettings",o),s["default"].$logger.info(`setToolboxSessionSettings: ${JSON.stringify(o)}`),te["a"].set(`toolbox-session-settings[${window.name||"default"}]`,o)}function ct(e,t){e.logsObject=t}var lt={reqStart:Ae,setItems:Ve,deleteItem:Je,reqFailed:He,setToken:ze,clearToken:Ue,setOfflineFlag:We,clearItems:Be,setConfig:Xe,addError:Ye,clearErrors:Ke,setTokenInfo:Ze,clearTokenInfo:et,setSocketOffline:tt,clearNotificationCounter:ot,getToolboxSettings:st,setToolboxSettings:nt,clearToolboxSettings:it,setRegions:at,setToolboxSessionSettings:rt,setLogsObject:ct},dt=o("db49");const pt=te["a"].getItem(`toolbox-session-settings[${window.name||"default"}]`);s["default"].use(ge["a"]);const mt={token:"",settings:{},offline:!1,socketOffline:!1,isLoading:!1,config:JSON.parse(JSON.stringify(dt["c"])),errors:[],tokenInfo:null,regions:null,newNotificationCounter:0,sessionSettings:pt},ht=new ge["a"].Store({state:mt,actions:_e,mutations:lt});var ut=ht,ft=o("8c4f"),gt=o("8103"),yt=o.n(gt);function bt(e){return Object.keys(e).reduce(((t,s)=>{const n=yt()(s),i=e[s].type,a=e[s].path||s,r={path:`${a}/:id?`,name:`${s}`,component:()=>o("a383")("./"+i+"/"+n),meta:{moduleName:s}};return"trafficViewer"!==s&&"hexViewer"!==s||(r.children=[{name:`${s}-nested`,path:"ident/:ident",meta:{moduleName:s}}]),t.push(r),t}),[])}var wt=[{path:"/",component:()=>Promise.all([o.e(0),o.e(28)]).then(o.bind(null,"b831")),children:[...bt(dt["c"])]},{path:"/token/:token",component:()=>Promise.all([o.e(0),o.e(2)]).then(o.bind(null,"013f"))},{path:"/login",component:()=>Promise.all([o.e(0),o.e(2)]).then(o.bind(null,"013f")),name:"simpleLogin"},{path:"/login/:token",component:()=>Promise.all([o.e(0),o.e(2)]).then(o.bind(null,"013f"))}];s["default"].use(ft["a"]);const vt=new ft["a"]({mode:"hash",base:"",scrollBehavior:()=>({y:0}),routes:wt});var kt=vt,xt=async function(){const e="function"===typeof ut?await ut({Vue:s["default"]}):ut,t="function"===typeof kt?await kt({Vue:s["default"],store:e}):kt;e.$router=t;const o={router:t,store:e,render:e=>e(fe),el:"#q-app"};return{app:o,store:e,router:t}},St=o("a925"),Ct={failed:"Action failed",success:"Action was successful"},Tt={"en-us":Ct};s["default"].use(St["a"]);const It=new St["a"]({locale:"en-us",fallbackLocale:"en-us",messages:Tt});var $t=({app:e})=>{e.i18n=It},Lt=o("553c"),Pt=o.n(Lt),Nt=o("9224");let Mt="",Et="";-1===window.location.host.indexOf("flespi.io")?(Mt=`https://${window.location.hostname}:9005`,Et=`wss://${window.location.hostname}:9017`):-1!==window.location.pathname.indexOf("/toolbox")&&(Mt=`https://${window.location.host}`,Et=`wss://${window.location.host}`);const Dt=-1===window.location.host.indexOf("flespi.io"),jt={protocolVersion:5,wsOptions:{objectMode:!1,perMessageDeflate:!0}},_t=`toolbox-${Nt["version"]}${Dt?"-dev":""}-${Math.random().toString(16).substr(2,8)}`,Ot={socketConfig:{server:Et,clientId:_t,mqttSettings:jt},httpConfig:{server:Mt||void 0,flespiApp:_t}};var Gt=({Vue:e,store:t})=>{e.prototype.$authHost=Mt||"https://flespi.io",e.prototype.$flespiServer=Mt||"https://flespi.io",e.prototype.$flespiSocketServer=Et||"wss://mqtt.flespi.io",e.prototype.$flespiApp=_t,e.use(Pt.a,Ot),e.connector.socket.on("connect",(e=>{const o=JSON.parse(e.properties.userProperties.token);t.commit("setTokenInfo",o),t.commit("setSocketOffline",!1)})),e.connector.socket.on("error",(e=>{t.commit("reqFailed",e)})),e.connector.socket.on("offline",(()=>{t.commit("setSocketOffline",!0)})),window&&window.addEventListener("beforeunload",(()=>{e.connector.socket.close(!0)}))},qt=(o("4d6b"),()=>{});class Qt{constructor(){this.bus=new s["default"],this.postkey=window.name,window.addEventListener("message",(e=>{let t="",o=null;if("string"===typeof e.data&&0===e.data.indexOf("Toolbox|")){let n=e.data.split("|");n=n[this.postkey?2:1].split("=>"),t=n[0];try{o=JSON.parse(n[1])}catch(s){o=n[1]}}t&&this.bus.$emit(t,o)}))}on(){this.bus.$on(...arguments)}send(e,t){e=`Toolbox${this.postkey?`|${this.postkey}`:""}|${e}${t?`=>${JSON.stringify(t)}`:""}`,window.parent&&window.parent!==window&&window.parent.postMessage(e,"*"),window.opener&&window.opener.postMessage(e,"*")}}var Ft=({Vue:e})=>{const t=new Qt;e.prototype.$integrationBus=t};class Rt{constructor(e="ModuleLogger"){this.name=`[${e}]`}extendName(e){return new Rt(`${this.name}[${e}]`)}info(){console.info(...Array.from(arguments).map((e=>`${this.name} ${e}`)))}error(){console.error(...Array.from(arguments).map((e=>`${this.name} ${e}`)))}warn(){console.warn(...Array.from(arguments).map((e=>`${this.name} ${e}`)))}}const At=new Rt("Toolbox");var Ht=({Vue:e,store:t})=>{e.prototype.$logger=At,e.$logger=At};const Jt="";async function Vt(){const{app:e,store:t,router:o}=await xt();let n=!1;const i=e=>{n=!0;const t=Object(e)===e?o.resolve(e).route.fullPath:e;window.location.href=t},a=window.location.href.replace(window.location.origin,""),r=[$t,Gt,qt,Ft,Ht];for(let l=0;!1===n&&l<r.length;l++)if("function"===typeof r[l])try{await r[l]({app:e,router:o,store:t,Vue:s["default"],ssrContext:null,redirect:i,urlPath:a,publicPath:Jt})}catch(c){return c&&c.url?void(window.location.href=c.url):void console.error("[Quasar] boot error:",c)}!0!==n&&new s["default"](e)}Vt()},"4d6b":function(e,t,o){},"7e6d":function(e,t,o){},9224:function(e){e.exports=JSON.parse('{"name":"toolbox","version":"1.24.6","description":"Flespi ToolboX","productName":"ToolboX","capacitorId":"","author":"Sergey Buntsevich <scarry92@yandex.ru>","private":true,"scripts":{"lint":"eslint --ext .js,.vue src","dev":"quasar dev -m spa","dev_local":"env NODE_LOCAL=local quasar dev -m spa","build":"quasar build -m spa","deploy":"rm -rf dist && npm run build && rm -rf deploy && mkdir deploy && cp -R dist/spa/* misc CNAME LICENSE package.json deploy && cp README.md deploy/README.md && node_modules/git-directory-deploy/bin/git-directory-deploy.sh -ddeploy -bgh-pages -rgit@git.gurtam.net:flespi/frontend/toolbox.git && rm -rf deploy && git push github gh-pages"},"dependencies":{"@quasar/extras":"^1.16.5","core-js":"^3.31.1","datetimerangepicker":"github:flespi-software/DateTimeRangePicker","flespi-io-js":"github:flespi-software/flespi-io-js","json2csv":"^5.0.5","lodash":"^4.17.21","quasar":"^1.19.0","qvirtualscroll":"github:flespi-software/QVirtualScroll","vue-draggable-resizable":"^2.3.0","vue-i18n":"^8.24.4","vue-virtual-scroll-list":"^1.4.6","vuedraggable":"^2.24.3"},"devDependencies":{"@quasar/app":"^2.2.10","babel-eslint":"^10.0.1","eslint":"^7.21.0","eslint-config-prettier":"^8.1.0","eslint-plugin-vue":"^7.7.0","eslint-webpack-plugin":"^2.4.0","git-directory-deploy":"^1.5.1"},"engines":{"node":">= 10.18.1","npm":">= 6.13.4","yarn":">= 1.21.1"},"browserslist":["last 10 Chrome versions","last 10 Firefox versions","last 4 Edge versions","last 7 Safari versions","last 8 Android versions","last 8 ChromeAndroid versions","last 8 FirefoxAndroid versions","last 10 iOS versions","last 5 Opera versions"]}')},a383:function(e,t,o){var s={"./404":["ee5d",0,25],"./404.vue":["ee5d",0,25],"./Login":["013f",0,2],"./Login.vue":["013f",0,2],"./tools/DeviceTraffic":["14a7",0,1,9],"./tools/DeviceTraffic.vue":["14a7",0,1,9],"./tools/HexViewer":["56bd",0,1,3],"./tools/HexViewer.vue":["56bd",0,1,3],"./tools/MqttClient":["77ed",0,1,26],"./tools/MqttClient.vue":["77ed",0,1,26],"./tools/PluginTraffic":["7cfc",0,1,10],"./tools/PluginTraffic.vue":["7cfc",0,1,10],"./tools/StreamTraffic":["2ed3",0,1,11],"./tools/StreamTraffic.vue":["2ed3",0,1,11],"./tools/TrafficViewer":["1635",0,1,4],"./tools/TrafficViewer.vue":["1635",0,1,4],"./tools/WebhookTraffic":["1ac9",0,1,12],"./tools/WebhookTraffic.vue":["1ac9",0,1,12],"./viewer/Calcs":["c5ce",0,1,13],"./viewer/Calcs.vue":["c5ce",0,1,13],"./viewer/Cdns":["d1d0",0,1,14],"./viewer/Cdns.vue":["d1d0",0,1,14],"./viewer/Channels":["2985",0,1,6],"./viewer/Channels.vue":["2985",0,1,6],"./viewer/Containers":["aaff",0,1,7],"./viewer/Containers.vue":["aaff",0,1,7],"./viewer/Devices":["c4c9",0,1,8],"./viewer/Devices.vue":["c4c9",0,1,8],"./viewer/Geofences":["d2c7",0,1,15],"./viewer/Geofences.vue":["d2c7",0,1,15],"./viewer/Grants":["3da9",0,1,16],"./viewer/Grants.vue":["3da9",0,1,16],"./viewer/Groups":["a79f",0,1,17],"./viewer/Groups.vue":["a79f",0,1,17],"./viewer/Intervals":["33b4",0,1,5],"./viewer/Intervals.vue":["33b4",0,1,5],"./viewer/Modems":["3a96",0,1,18],"./viewer/Modems.vue":["3a96",0,1,18],"./viewer/Mqtt":["7d52",0,1,19],"./viewer/Mqtt.vue":["7d52",0,1,19],"./viewer/Platform":["c34e",0,1,20],"./viewer/Platform.vue":["c34e",0,1,20],"./viewer/Plugins":["111e",0,1,21],"./viewer/Plugins.vue":["111e",0,1,21],"./viewer/Realms":["bd3d",0,1,22],"./viewer/Realms.vue":["bd3d",0,1,22],"./viewer/Streams":["8116",0,1,23],"./viewer/Streams.vue":["8116",0,1,23],"./viewer/Webhooks":["5df6",0,1,24],"./viewer/Webhooks.vue":["5df6",0,1,24]};function n(e){if(!o.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],n=t[0];return Promise.all(t.slice(1).map(o.e)).then((function(){return o(n)}))}n.keys=function(){return Object.keys(s)},n.id="a383",e.exports=n},c1f5:function(e,t,o){},ce9b:function(e,t,o){"use strict";o("c1f5")},db49:function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"a",(function(){return i}));const s=(new Date).toString().match(/([-+][0-9]+)\s/)[1],n=1,i=2;t["c"]={platform:{label:"Platform",icon:"icon-flespi2-02-01",type:"viewer",isDrawable:!1,logs:{vuexModuleName:"platformLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Make sure you have some active instances in the flespi platform, e.g. channels receiving messages, streams forwarding data, MQTT sessions, etc.",wclass:["col-6","col-sm-6"]},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right.",wclass:["col-6","col-sm-6"]},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>.",wclass:["col-6","col-sm-6"]}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:`${s.slice(0,3)}:${s.slice(3)}`},{name:"event_code",title:"event",width:450,display:!0,description:"Log event code and description"},{name:"host",width:150,display:!0,description:"Connected device's address (source) or IP address from which HTTP request was received (host)"},{name:"app",width:150,display:!0,description:"Request app"},{name:"method",width:150,display:!0,description:"REST API method"},{name:"uri",width:150,display:!0,description:"Request URI"}],actions:[{icon:"mdi-content-copy",label:"Copy log object",classes:"",mode:n,type:"copy"},{icon:"mdi-content-copy",label:"Copy log objects",classes:"",mode:i,type:"copy"}],viewConfig:{needShowFilter:!0,needShowDateRange:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},channels:{label:"Channels",icon:"merge_type",type:"viewer",acl:[{name:"channels",methods:["GET"],submodules:[{name:"logs",methods:["GET"]},{name:"messages",methods:["GET"]}]}],isDrawable:!1,logs:{vuexModuleName:"channelsLogs",itemSettings:{},emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Make sure your trackers are correctly pointed to this channel’s <span class='text-bold'>IP:port</span> and they are currently sending messages."},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:`${s.slice(0,3)}:${s.slice(3)}`},{name:"event_code",title:"event",width:400,display:!0,description:"Log event code and description"},{name:"ident",width:150,display:!0,description:"Connected device's identification string"},{name:"msgs",title:"messages",width:85,display:!0,description:"Number of messages received"},{name:"recv",title:"received",width:85,display:!0,description:"Number of bytes received"},{name:"send",title:"sent",width:85,display:!0,description:"Number of bytes sent"},{name:"host",width:150,display:!0,description:"Connected device's address (source) or IP address from which HTTP request was received (host)"},{name:"duration",width:85,display:!0,description:"Connection duration in seconds"},{name:"transport",width:85,display:!0,description:"Connected device's transport: tcp, udp, http etc"}],actions:[{icon:"mdi-content-copy",label:"Copy log object",classes:"",mode:n,type:"copy"},{icon:"mdi-content-copy",label:"Copy log objects",classes:"",mode:i,type:"copy"}],viewConfig:{needShowFilter:!0,needShowDateRange:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}},messages:{vuexModuleName:"channelsMessages",emptyState:{label:"Messages not found",sublabel:"If you expect to see the device messages here",hints:[{html:"Make sure your trackers are correctly pointed to this channel’s <span class='text-bold'>IP:port</span> and they are currently sending messages.",wclass:["col-6","col-sm-6"]},{html:"Check the <span class='text-bold'>messages TTL</span> in the channel settings — if it’s set to 0, messages will not show.",wclass:["col-6","col-sm-6"]}]},actions:[{icon:"mdi-content-save",label:"Copy message",classes:"",mode:n,type:"copy"},{icon:"mdi-content-save",label:"Copy messages",classes:"",mode:i,type:"copy"}],viewConfig:{needShowFilter:!0,needShowDateRange:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},geofences:{label:"Geofences",icon:"mdi-vector-polygon",type:"viewer",acl:[{name:"geofences",methods:["GET"],submodules:[{name:"logs",methods:["GET"]}]}],isDrawable:!1,logs:{vuexModuleName:"geofencesLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Make sure you <a class='text-white' href='https://flespi.com/kb/working-with-devices-assigned-to-calculator' target='_blank'>assigned</a> this calculator to one or more devices and that these devices have messages to perform calculations with."},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:`${s.slice(0,3)}:${s.slice(3)}`},{name:"event_code",title:"event",width:400,display:!0,description:"Log event code and description"},{name:"reason",title:"reason",width:400,display:!0,description:"Log event reason"},{name:"host",width:150,display:!0,description:"Connected device's address (source) or IP address from which HTTP request was received (host)"}],actions:[{icon:"mdi-content-copy",label:"Copy log object",classes:"",mode:n,type:"copy"},{icon:"mdi-content-copy",label:"Copy log objects",classes:"",mode:i,type:"copy"}],viewConfig:{needShowFilter:!0,needShowDateRange:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},plugins:{label:"Plugins",icon:"mdi-puzzle",type:"viewer",acl:[{name:"plugins",methods:["GET"],submodules:[{name:"logs",methods:["GET"]}]}],isDrawable:!1,logs:{vuexModuleName:"pluginsLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Make sure you <a class='text-white' href='https://flespi.com/kb/working-with-devices-assigned-to-calculator' target='_blank'>assigned</a> this calculator to one or more devices and that these devices have messages to perform calculations with."},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:`${s.slice(0,3)}:${s.slice(3)}`},{name:"event_code",title:"event",width:400,display:!0,description:"Log event code and description"},{name:"reason",title:"reason",width:400,display:!0,description:"Log event reason"},{name:"host",width:150,display:!0,description:"Connected device's address (source) or IP address from which HTTP request was received (host)"}],actions:[{icon:"mdi-content-copy",label:"Copy log object",classes:"",mode:n,type:"copy"},{icon:"mdi-content-copy",label:"Copy log objects",classes:"",mode:i,type:"copy"}],viewConfig:{needShowFilter:!0,needShowDateRange:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},calcs:{label:"Calcs",icon:"mdi-calculator-variant",type:"viewer",acl:[{name:"calcs",methods:["GET"],submodules:[{name:"logs",methods:["GET"]}]}],isDrawable:!1,logs:{vuexModuleName:"calcsLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Make sure you <a class='text-white' href='https://flespi.com/kb/working-with-devices-assigned-to-calculator' target='_blank'>assigned</a> this calculator to one or more devices and that these devices have messages to perform calculations with."},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:`${s.slice(0,3)}:${s.slice(3)}`},{name:"event_code",title:"event",width:400,display:!0,description:"Log event code and description"},{name:"host",width:150,display:!0,description:"Connected device's address (source) or IP address from which HTTP request was received (host)"},{name:"device_id",width:150,display:!0,description:"Device ID"},{name:"interval_id",width:150,display:!0,description:"Interval ID"},{name:"interval_begin",width:150,display:!0,description:"Interval begin timestamp"},{name:"interval_end",width:150,display:!0,description:"Interval end timestamp"}],actions:[{icon:"mdi-content-copy",label:"Copy log object",classes:"",mode:n,type:"copy"},{icon:"mdi-content-copy",label:"Copy log objects",classes:"",mode:i,type:"copy"}],viewConfig:{needShowFilter:!0,needShowDateRange:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},devices:{label:"Devices",icon:"mdi-developer-board",type:"viewer",acl:[{name:"devices",methods:["GET"],submodules:[{name:"logs",methods:["GET"]},{name:"messages",methods:["GET"]}]}],isDrawable:!1,logs:{vuexModuleName:"devicesLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Make sure the respective physical tracker correctly points to the proper channel’s <span class='text-bold'>IP:port</span> and is currently sending messages."},{html:"Make sure you specified the correct device <span class='text-bold'>ident</span> and picked the proper <span class='text-bold'>device type</span>."},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:`${s.slice(0,3)}:${s.slice(3)}`},{name:"event_code",title:"event",width:400,display:!0,description:"Log event code and description"},{name:"name",title:"name",width:80,display:!0,description:"Name"},{name:"ident",width:150,display:!0,description:"Connected device's identification string"},{name:"msgs",title:"messages",width:85,display:!0,description:"Number of messages received"},{name:"recv",title:"received",width:85,display:!0,description:"Number of bytes received"},{name:"send",title:"sent",width:85,display:!0,description:"Number of bytes sent"},{name:"source",width:150,display:!0,description:"Connected device's address"},{name:"host",width:150,display:!0,description:"IP address from which HTTP request was received"},{name:"duration",width:85,display:!0,description:"Connection duration in seconds"},{name:"transport",width:85,display:!0,description:"Connected device's transport: tcp, udp, http etc"}],actions:[{icon:"mdi-content-copy",label:"Copy log object",classes:"",mode:n,type:"copy"},{icon:"mdi-content-copy",label:"Copy log objects",classes:"",mode:i,type:"copy"}],itemSettings:{},viewConfig:{needShowFilter:!0,needShowDateRange:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}},messages:{vuexModuleName:"devicesMessages",emptyState:{label:"Messages not found",sublabel:"If you expect to see the device messages here",hints:[{html:"Make sure the respective physical tracker correctly points to the proper channel`s <span class='text-bold'>IP:port</span> and is currently sending messages."},{html:"Make sure you specified the correct device <span class='text-bold'>ident</span> and picked the proper <span class='text-bold'>device type</span>."},{html:"Check the <span class='text-bold'>messages TTL</span> in the device settings — if it`s set to 0, messages will not show."},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},actions:[{icon:"mdi-content-copy",label:"Copy message",classes:"",mode:n,type:"copy"},{icon:"mdi-information-outline",label:"Show message",classes:"",mode:n,type:"show"},{icon:"mdi-content-copy",label:"Copy messages",classes:"",mode:i,type:"copy"}],viewConfig:{needShowFilter:!0,needShowDateRange:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},groups:{label:"Groups",icon:"mdi-folder-table",type:"viewer",acl:[{name:"groups",methods:["GET"],submodules:[{name:"logs",methods:["GET"]}]}],isDrawable:!1,logs:{vuexModuleName:"groupsLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:`${s.slice(0,3)}:${s.slice(3)}`},{name:"event_code",title:"event",width:450,display:!0,description:"Log event code and description"},{name:"host",width:115,display:!0,description:"IP address from which HTTP request was received"},{name:"token_id",title:"token",width:80,display:!0,description:"Token"}],actions:[{icon:"mdi-content-copy",label:"Copy log object",classes:"",mode:n,type:"copy"},{icon:"mdi-content-copy",label:"Copy log objects",classes:"",mode:i,type:"copy"}],viewConfig:{needShowFilter:!0,needShowDateRange:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},intervals:{label:"Intervals",icon:"mdi-set-center",path:"device/:deviceId?/calc/:calcId?/intervals",type:"viewer",acl:[{name:"devices",methods:["GET"],submodules:[{name:"messages",methods:["GET"]}]},{name:"calcs",methods:["GET"],submodules:[{name:"devices",methods:["GET"]}]}],isDrawable:!1,intervals:{vuexModuleName:"intervals",emptyState:{label:"Intervals not found",sublabel:"If you expect to see the intervals here",hints:[{html:"Make sure the selected device has messages to perform intervals calculations with."},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."}]},actions:[{icon:"mdi-content-copy",label:"Copy interval",classes:"",mode:n,type:"copy"},{icon:"mdi-information-outline",label:"Show interval",classes:"",mode:n,type:"show"},{icon:"mdi-content-copy",label:"Copy intervals",classes:"",mode:i,type:"copy"}],viewConfig:{needShowFilter:!0,needShowDateRange:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}},relatedIntervals:{vuexModuleName:"relatedIntervals",mode:"secondary",emptyState:{label:"Intervals not found",sublabel:"If you expect to see the intervals here",hints:[{html:"Make sure the selected device has messages to perform intervals calculations with."},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."}]},actions:[{icon:"mdi-content-copy",label:"Copy interval",classes:"",mode:n,type:"copy"},{icon:"mdi-information-outline",label:"Show interval",classes:"",mode:n,type:"show"},{icon:"mdi-content-copy",label:"Copy intervals",classes:"",mode:i,type:"copy"}],viewConfig:{needShowFilter:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}},messages:{actions:[{icon:"mdi-content-copy",label:"Copy message",classes:"",mode:n,type:"copy"},{icon:"mdi-information-outline",label:"Show message",classes:"",mode:n,type:"show"},{icon:"mdi-content-copy",label:"Copy messages",classes:"",mode:i,type:"copy"}],viewConfig:{needShowFilter:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0},vuexModuleName:"devicesMessages",emptyState:{label:"Messages not found",sublabel:"If you expect to see the device messages here",hints:[{html:"Make sure the respective physical tracker correctly points to the proper channel’s <span class='text-bold'>IP:port</span> and is currently sending messages."},{html:"Make sure you specified the correct device <span class='text-bold'>ident</span> and picked the proper <span class='text-bold'>device type</span>."},{html:"Check the <span class='text-bold'>messages TTL</span> in the device settings — if it’s set to 0, messages will not show."},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]}}},streams:{label:"Streams",icon:"mdi-call-split",type:"viewer",acl:[{name:"streams",methods:["GET"],submodules:[{name:"logs",methods:["GET"]}]}],isDrawable:!1,logs:{vuexModuleName:"streamsLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Make sure you <a class='text-white' href='https://flespi.com/kb/stream-forward-data-from-gateway' target='_blank'>subscribed</a> this stream to one or more channels and/or devices."},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:`${s.slice(0,3)}:${s.slice(3)}`},{name:"event_code",title:"event",width:450,display:!0,description:"Log event code and description"},{name:"accepted",width:100,display:!0,description:"Messages count has accepted"},{name:"read",width:100,display:!0,description:"Messages count has read"},{name:"rejected",width:100,display:!0,description:"Messages count has rejected"},{name:"skipped",width:100,display:!0,description:"Messages count has skipped"}],actions:[{icon:"mdi-content-copy",label:"Copy log object",classes:"",mode:n,type:"copy"},{icon:"mdi-content-copy",label:"Copy log objects",classes:"",mode:i,type:"copy"}],viewConfig:{needShowFilter:!0,needShowDateRange:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},webhooks:{label:"Webhooks",icon:"mdi-webhook",type:"viewer",isDrawable:!1,logs:{vuexModuleName:"webhooksLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:`${s.slice(0,3)}:${s.slice(3)}`},{name:"event_code",title:"Event",width:200,display:!0,description:"Log event code and description"},{name:"response_code",title:"Response code",width:100,display:!0,description:""},{name:"message",width:200,display:!0,description:"MQTT message"},{name:"request_body",title:"Request body",width:200,display:!0,description:"HTTP request body"},{name:"response",width:100,display:!0,description:"HTTP server response"}],actions:[{icon:"mdi-content-copy",label:"Copy log object",classes:"",mode:n,type:"copy"},{icon:"mdi-content-copy",label:"Copy log objects",classes:"",mode:i,type:"copy"}],viewConfig:{needShowFilter:!0,needShowDateRange:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},grants:{label:"Grants",icon:"mdi-hand-extended",type:"viewer",isDrawable:!1,logs:{vuexModuleName:"grantsLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:`${s.slice(0,3)}:${s.slice(3)}`},{name:"event_code",title:"Event",width:200,display:!0,description:"Log event code and description"},{name:"token_id",title:"Token id",width:100,display:!0,description:""},{name:"origin_id",width:100,display:!0,description:"ID"},{name:"host",title:"Host",width:200,display:!0,description:"Host"}],actions:[{icon:"mdi-content-copy",label:"Copy log object",classes:"",mode:n,type:"copy"},{icon:"mdi-content-copy",label:"Copy log objects",classes:"",mode:i,type:"copy"}],viewConfig:{needShowFilter:!0,needShowDateRange:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},realms:{label:"Realms",icon:"mdi-folder-account",type:"viewer",isDrawable:!1,logs:{vuexModuleName:"realmsLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:`${s.slice(0,3)}:${s.slice(3)}`},{name:"event_code",title:"Event",width:200,display:!0,description:"Log event code and description"},{name:"token_id",title:"Token id",width:100,display:!0,description:""},{name:"origin_id",width:100,display:!0,description:"ID"},{name:"host",title:"Host",width:200,display:!0,description:"Host"}],actions:[{icon:"mdi-content-copy",label:"Copy log object",classes:"",mode:n,type:"copy"},{icon:"mdi-content-copy",label:"Copy log objects",classes:"",mode:i,type:"copy"}],viewConfig:{needShowFilter:!0,needShowDateRange:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},modems:{label:"Modems",icon:"router",type:"viewer",acl:[{name:"modems",methods:["GET"],submodules:[{name:"logs",methods:["GET"]}]}],isDrawable:!1,logs:{vuexModuleName:"modemsLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Make sure your modem is configured correctly."},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:`${s.slice(0,3)}:${s.slice(3)}`},{name:"event_code",title:"event",width:450,display:!0,description:"Log event code and description"},{name:"address",width:100,display:!0,description:"SMS source address or SMS destination address"},{name:"type",width:100,display:!0,description:"hex or text"},{name:"text",width:150,display:!0,description:"textual SMS contents"},{name:"hex",width:150,display:!0,description:"hex representation of binary SMS contents"}],actions:[{icon:"mdi-content-copy",label:"Copy log object",classes:"",mode:n,type:"copy"},{icon:"mdi-content-copy",label:"Copy log objects",classes:"",mode:i,type:"copy"}],viewConfig:{needShowFilter:!0,needShowDateRange:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},containers:{label:"Containers",icon:"featured_play_list",type:"viewer",acl:[{name:"containers",methods:["GET"],submodules:[{name:"logs",methods:["GET"]},{name:"messages",methods:["GET"]}]}],isDrawable:!1,logs:{vuexModuleName:"containersLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:`${s.slice(0,3)}:${s.slice(3)}`},{name:"event_code",title:"event",width:450,display:!0,description:"Log event code and description"},{name:"host",width:80,display:!0,description:"IP address from which HTTP request was received"}],actions:[{icon:"mdi-content-copy",label:"Copy log object",classes:"",mode:n,type:"copy"},{icon:"mdi-content-copy",label:"Copy log objects",classes:"",mode:i,type:"copy"}],viewConfig:{needShowFilter:!0,needShowDateRange:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}},messages:{vuexModuleName:"containersMessages",emptyState:{label:"Messages not found",sublabel:"If you expect to see the container messages here",hints:[{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},actions:[{icon:"mdi-content-copy",label:"Copy message",classes:"",mode:n,type:"copy"},{icon:"mdi-information-outline",label:"Show message",classes:"",mode:n,type:"show"},{icon:"mdi-content-copy",label:"Copy messages",classes:"",mode:i,type:"copy"}],viewConfig:{needShowFilter:!0,needShowDateRange:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},mqtt:{label:"MQTT",icon:"mdi-access-point-network",acl:[{name:"mqtt",methods:["GET"]}],type:"viewer",isDrawable:!1,logs:{vuexModuleName:"mqttLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Make sure you have active MQTT sessions communicating with the flespi MQTT broker using <a class='text-white' href='https://flespi.com/tools/mqtt-board' target='_blank'>MQTT board</a> tool."},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:`${s.slice(0,3)}:${s.slice(3)}`},{name:"event_code",title:"event",width:450,display:!0,description:"Log event code and description"},{name:"client_id",width:150,display:!0,description:"session client id"},{name:"topic",width:150,display:!0,description:"session topic"},{name:"published",width:80,display:!0,description:"amount of messages published by session"},{name:"received",width:80,display:!0,description:"amount of messages received by session"}],actions:[{icon:"mdi-content-copy",label:"Copy log object",classes:"",mode:n,type:"copy"},{icon:"mdi-content-copy",label:"Copy log objects",classes:"",mode:i,type:"copy"}],viewConfig:{needShowFilter:!0,needShowDateRange:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},cdns:{label:"CDNS",icon:"mdi-harddisk",type:"viewer",acl:[{name:"cdns",methods:["GET"],submodules:[{name:"logs",methods:["GET"]}]}],isDrawable:!1,logs:{vuexModuleName:"cdnsLogs",emptyState:{label:"Log entries not found",sublabel:"If you expect to see the log records here",hints:[{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right."},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>."}]},cols:[{name:"timestamp",width:165,display:!0,description:"Log event time",addition:`${s.slice(0,3)}:${s.slice(3)}`},{name:"event_code",title:"event",width:450,display:!0,description:"Log event code and description"},{name:"host",width:150,display:!0,description:"IP address from which HTTP request was received"},{name:"mime",width:80,display:!0,description:"mime type of file"},{name:"name",width:250,display:!0,description:"name of file"},{name:"size",width:80,display:!0,description:""}],actions:[{icon:"mdi-content-copy",label:"Copy log object",classes:"",mode:n,type:"copy"},{icon:"mdi-content-copy",label:"Copy log objects",classes:"",mode:i,type:"copy"}],viewConfig:{needShowFilter:!0,needShowDateRange:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},hexViewer:{label:"Hex Viewer",path:"tools/hex",type:"tools",icon:"mdi-matrix",acl:[{name:"channels",methods:["GET"],submodules:[{name:"messages",methods:["GET"]}]}],isDrawable:!1,messages:{vuexModuleName:"hexMessages",emptyState:{label:"Connections not found",sublabel:"If you expect to see the raw messages here",hints:[{html:"Check your <a class='text-white' href='https://flespi.com/protocols/proxy' target='_blank'>proxy channel</a> configuration.",wclass:["col-12"]},{html:"Make sure your trackers are correctly pointed to this channel’s <span class='text-bold'>IP:port</span> and they are currently sending messages.",wclass:["col-12"]},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right.",wclass:["col-12"]},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>.",wclass:["col-12"]}]},actions:[{icon:"mdi-content-copy",label:"copy",classes:"",type:"copy"}],viewConfig:{needShowFilter:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},trafficViewer:{label:"Traffic  Viewer",path:"tools/traffic",type:"tools",icon:"mdi-download-network-outline",acl:[{name:"channels",methods:["GET"],submodules:[{name:"idents",methods:["GET"]}]}],isDrawable:!1,messages:{vuexModuleName:"trafficMessages",emptyState:{label:"Traffic not found",sublabel:"If you expect to see the raw messages here",hints:[{html:"Make sure your trackers are correctly pointed to this channel’s <span class='text-bold'>IP:port</span> and they are currently sending messages.",wclass:["col-12"]},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right.",wclass:["col-12"]},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>.",wclass:["col-12"]}]},actions:[{icon:"mdi-content-copy",label:"copy",classes:"",type:"copy"}],viewConfig:{needShowFilter:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},deviceTraffic:{label:"Device traffic",path:"tools/device-traffic",type:"tools",icon:"mdi-download-network-outline",acl:[{name:"devices",methods:["GET"],submodules:[{name:"packets",methods:["GET"]}]}],isDrawable:!1,messages:{vuexModuleName:"deviceTraffic",emptyState:{label:"Traffic not found",sublabel:"If you expect to see the raw messages here",hints:[{html:"Make sure your trackers are correctly pointed to this channel’s <span class='text-bold'>IP:port</span> and they are currently sending messages.",wclass:["col-12"]},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right.",wclass:["col-12"]},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>.",wclass:["col-12"]}]},actions:[{icon:"mdi-content-copy",label:"copy",classes:"",type:"copy"}],viewConfig:{needShowFilter:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},streamTraffic:{label:"Stream traffic",path:"tools/stream-traffic",type:"tools",icon:"mdi-download-network-outline",acl:[{name:"streams",methods:["GET"],submodules:[{name:"packets",methods:["GET"]}]}],isDrawable:!1,messages:{vuexModuleName:"streamTraffic",emptyState:{label:"Traffic not found",sublabel:"If you expect to see the raw messages here",hints:[{html:"Make sure your trackers are correctly pointed to this channel’s <span class='text-bold'>IP:port</span> and they are currently sending messages.",wclass:["col-12"]},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right.",wclass:["col-12"]},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>.",wclass:["col-12"]}]},actions:[{icon:"mdi-content-copy",label:"copy",classes:"",type:"copy"}],viewConfig:{needShowFilter:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},webhookTraffic:{label:"Webhook traffic",path:"tools/webhook-traffic",type:"tools",icon:"mdi-download-network-outline",acl:[{name:"webhooks",methods:["GET"],submodules:[{name:"packets",methods:["GET"]}]}],isDrawable:!1,messages:{vuexModuleName:"webhookTraffic",emptyState:{label:"Traffic not found",sublabel:"If you expect to see the raw messages here",hints:[{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right.",wclass:["col-12"]},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>.",wclass:["col-12"]}]},actions:[{icon:"mdi-content-copy",label:"copy",classes:"",type:"copy"}],viewConfig:{needShowFilter:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},pluginTraffic:{label:"Plugin traffic",path:"tools/plugin-traffic",type:"tools",icon:"mdi-download-network-outline",acl:[{name:"plugins",methods:["GET"],submodules:[{name:"packets",methods:["GET"]}]}],isDrawable:!1,messages:{vuexModuleName:"pluginTraffic",emptyState:{label:"Traffic not found",sublabel:"If you expect to see the raw messages here",hints:[{html:"Make sure your trackers are correctly pointed to the channel’s <span class='text-bold'>IP:port</span> and they are currently sending messages.",wclass:["col-12"]},{html:"Pick a specific date and time using the <span class='text-bold'>date/time picker</span> on the top right.",wclass:["col-12"]},{html:"Narrow down the search by specifying the desired parameter values in the <span class='text-bold'>filter control</span>.",wclass:["col-12"]}]},actions:[{icon:"mdi-content-copy",label:"copy",classes:"",type:"copy"}],viewConfig:{needShowFilter:!0},theme:{color:"white",bgColor:"grey-9",contentInverted:!0,controlsInverted:!0}}},mqttClient:{label:"Mqtt Board",path:"tools/mqtt",type:"tools",icon:"mdi-view-dashboard-variant",isDrawable:!1}}}});