(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{"77ed":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"bg-white flex flex-center full-width full-height"},[s("iframe",{ref:"iframe",staticClass:"full-width full-height absolute-top-left absolute-bottom-right",attrs:{src:t.host,frameborder:"0",name:t.name}})])},a=[],i=(s("28a5"),s("7f7f"),s("6b54"),s("06db"),s("286e")),o={name:"MQTTClient",props:["limit","isLoading","isVisibleToolbar","isNeedSelect","config"],data:function(){return{name:"mqttboard",host:"https://mqttboard.flespi.io/#/integration",mqttBoardConfig:{settings:{clientId:"toolbox-mqtt-board-".concat(Math.random().toString(16).substr(2,8)),host:this.$flespiSocketServer,username:"FlespiToken ".concat(this.$store.state.token)},whiteLabel:"MQTT Clients",useLS:!1,clientsCloseable:!1}}},mixins:[i["a"]],methods:{send:function(t,e){t="MQTTBoard".concat(this.name?"|".concat(this.name):"","|").concat(t).concat(e?"=>".concat(JSON.stringify(e)):""),this.$refs.iframe.contentWindow.postMessage(t,"*")},messageProcess:function(t){var e="",s=null;if("string"===typeof t&&0===t.indexOf("MQTTBoard|")){var n=t.split("|");n=n[this.name?2:1].split("=>"),e=n[0];try{s=JSON.parse(n[1])}catch(a){s=n[1]}}return{cmd:e,payload:s,name:this.name}},setSettings:function(t){this.send("SetSettings",t)}},created:function(){var t=this;window.addEventListener("message",(function(e){var s=e.data,n=t.messageProcess(s),a=n.cmd,i=n.name;i===t.name&&a&&"ready"===a&&t.setSettings(t.mqttBoardConfig)}))}},r=o,c=s("2877"),l=Object(c["a"])(r,n,a,!1,null,null,null);e["default"]=l.exports}}]);